<!DOCTYPE = html>

<html>
	<head>
	
	</head>
	
	<body>
	<ul>
		<li>  | </li>
		<li>--@--</li>
		<li>  | </li>
	</ul>
	
	<ul id="prompt">
	</ul>
	
	<input id="cmd" type="text" value="type your commands here" ></input>
	
	</body>
	
	<footer>
	<script>
	var interact = "";
	var plot_counter = 0;
	//shortened console log
	function cl(x){
		console.log(x);
	}
	
	var text_limit = 0;
	//var last_node;
	var node;
	
	var user_input = "";
	
	var select_prompt = document.getElementById("prompt");
	
	var get_input = document.getElementById("cmd");
	get_input.addEventListener("keypress",return_input);
	get_input.addEventListener("click",function(){
		get_input.value = "";
	});
	
	function return_input(){var x = event.keyCode;
		if(x == 13){
			user_input = get_input.value;
			get_input.value = "";	
			process_command();
		}	
	}
	
	function process_command(){
		if(!user_input.localeCompare("west")){
			print("you walked toward west.");
			plot_check();
		}
		else if(!user_input.localeCompare("east")){
			print("you walked toward east.");
			plot_check();
		}
			else if(!user_input.localeCompare("south")){
			print("you walked toward south.");
			plot_check();
		}
			else if(!user_input.localeCompare("north")){
			print("you walked toward north.");
			plot_check();
		}
			else if(!user_input.localeCompare("kick")){
			print("you kicked.");
			interact = "kick";
			plot_check("kick");
		}else{
			print("invalid command.");
		}
	}
	
	function print(say_what){
		if(text_limit == 10){
			var new_li = document.createElement("LI"); 
			var textnode = document.createTextNode(say_what);
			select_prompt.removeChild(select_prompt.childNodes[0]);
			new_li.appendChild(textnode);
			select_prompt.appendChild(new_li);

		}else{
			var new_li = document.createElement("LI"); 
			var textnode = document.createTextNode(say_what);
			new_li.appendChild(textnode);
			select_prompt.appendChild(new_li);
			text_limit++;
		}
	}
	
	function plot_check(){
		switch(plot_counter){
			case 0: print("You have descended into the dungeon, there is an exit door on the east, type \"east\" to go through the exit.");
			plot_counter++;
			break;
			case 1: print("The door is locked, maybe you can try kicking it real hard by typing \"kick\"");
			plot_counter++;
			case 2:print("There is an old man sitting in the cornor. \"Ho, ...");
			break; 
			
	
		}
	}
	//onload
	window.onload = plot_check();
	
	
	
	
	
	
	
	
	
	</script>
	
	</footer>
</html>
